<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
  <title>chatPDF</title>
  <!-- <link rel="stylesheet" type="text/css" href="/css/pico.min.css"> -->
  <link rel="stylesheet" type="text/css" href="/css/style.css">
</head>

<body>
  <main class="container main-page">
    <div class="top-bar">
      <div class="logo">chatPDF</div>
      <% if (indices && indices.length> 0) { %>
        <form class="top-bar-item" action="/setIndex" method="POST">
          <label for="index">Index: </label>
          <select onchange="this.form.submit()" name="index">

            <option value="none">none</option>
            <% indices.forEach((item)=> { %>
              <option value="<%= item %>">
                <%= item %>
              </option>
              <% }) %>
          </select>
        </form>
        <% } else { %>
          <form class="top-bar-item" action="/getIndices" method="POST">
            <button type="submit">Get Indices</button>
          </form>
          <% } %>
            <a class="top-bar-item" href="/upload"><button>Upload New Document</button></a>
    </div>
    <div class="chat-box">
      <% messages.forEach((message)=> {%>
        <p>
          <span class="<%= message.color %>">[<%= message.name %>] </span>
          <%= message.content %>
        </p>
        <% }) %>
    </div>
    <div class="query-box">
      <form action="/query" method="POST">
        <textarea id="query-input" type="text" name="query"></textarea>
        <button type="submit">Query</button>
      </form>
    </div>
  </main>
</body>

</html>
